<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="\publicar.css">
    <title>Nova Postagem</title>
</head>
<body>
    <header>
      <div class="logo">
        <a href="home.html">Projeto Blog</a>
      </div>
      <nav>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="#">Publicações</a></li>
          <li><a href="#">Sobre</a></li>
        </ul>
      </nav>
    </header>
    <main>
        <div class="container">
          <h2>Escrever Nova Postagem</h2><br>
          <form id="blogForm">
            <label for="titulo">Título</label>
            <input type="text" id="titulo" name="titulo" placeholder="Digite o título da postagem" required>

            <label for="conteudo">Conteúdo</label>
            <textarea id="conteudo" name="conteudo" placeholder="Escreva aqui o conteúdo da postagem" required></textarea>

            <input type="submit" value="Postar">
          </form>
        </div>

        <script>
            document.getElementById('blogForm').addEventListener('submit', function(e) {
                e.preventDefault();

                const titulo = document.getElementById('titulo').value;
                const conteudo = document.getElementById('conteudo').value;

                if (titulo && conteudo) {
                    const postagem = {
                      titulo: titulo,
                      conteudo: conteudo,
                      data: new Date().toLocaleString()

                    };

                    let postagens = JSON.parse(localStorage.getItem('postagens')) || [];

                    postagens.unshift(postagem);

                    localStorage.setItem('postagens', JSON.stringify(postagens));

                    alert('Postagem enviada com sucesso!');
                    window.location.href = "home.html";
                }
            });
        </script>
    </main>
</body>
</html>